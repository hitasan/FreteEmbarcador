{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet GenericaListComponent = class GenericaListComponent {\n  constructor(router, genericaService, poNotification, dialog) {\n    this.router = router;\n    this.genericaService = genericaService;\n    this.poNotification = poNotification;\n    this.dialog = dialog;\n    this.isTableLoading = false;\n    this.actions = [{\n      label: 'Adicionar',\n      url: 'app/genericas/new',\n      icon: 'po-icon-plus'\n    }, //{ label: 'Editar', url: 'app/genericas/edit', icon: 'po-icon-edit'},\n    {\n      label: 'Visualizar',\n      url: 'app/genericas/detail',\n      icon: 'po-icon-eye'\n    } //{ label: 'Remover', type: 'danger', icon: 'po-icon-delete' },\n    //{ label: 'Copiar', icon: 'po-icon po-icon-copy' }\n    ];\n    this.tableActions = [{\n      label: 'Editar',\n      separator: true,\n      action: generica => this.router.navigate([`app/genericas/edit/${generica.id}`])\n    }, {\n      label: 'Visualizar',\n      separator: true,\n      action: generica => this.router.navigate([`app/genericas/detail/${generica.id}`])\n    }, {\n      label: 'Remover',\n      separator: true,\n      type: 'danger',\n      icon: 'po-icon-delete',\n      action: this.onRemove.bind(this)\n    }, {\n      label: 'Copiar',\n      separator: true,\n      action: generica => this.router.navigate([`app/genericas/copy/${generica.id}`]),\n      icon: 'po-icon po-icon-copy'\n    }];\n    this.columns = [{\n      label: 'Filial',\n      property: 'filial',\n      width: '30%'\n    }, {\n      label: 'Tabela',\n      property: 'tabela',\n      width: '10%'\n    }, {\n      label: 'Chave',\n      property: 'chave',\n      width: '20%'\n    }, {\n      label: 'Descrição',\n      property: 'descricao'\n    }];\n  }\n\n  ngOnInit() {\n    this.isTableLoading = true;\n    this.genericaService.getAll().subscribe(genericas => {\n      this.genericas = genericas;\n      this.isTableLoading = false;\n    });\n  }\n\n  onRemove({\n    id\n  }) {\n    this.dialog.confirm({\n      message: 'Tem certeza que deseja remover este registro de tabela generica?',\n      title: 'Remoção',\n      confirm: this.confirmRemove.bind(this, id)\n    });\n  }\n\n  confirmRemove(id) {\n    this.isTableLoading = true;\n    this.genericaService.delete(id).subscribe(() => {\n      this.genericas = this.genericas.filter(generica => generica.id !== id);\n      this.isTableLoading = false;\n    });\n  }\n\n};\nGenericaListComponent = __decorate([Component({\n  selector: 'app-generica-list',\n  templateUrl: './generica-list.component.html',\n  styleUrls: ['./generica-list.component.css']\n})], GenericaListComponent);\nexport { GenericaListComponent };","map":null,"metadata":{},"sourceType":"module"}