{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nlet PaisesListComponent = class PaisesListComponent {\n  constructor(router, paisService, dialog) {\n    this.router = router;\n    this.paisService = paisService;\n    this.dialog = dialog;\n    this.isTableLoading = false;\n    this.actions = [{\n      label: 'Adicionar',\n      icon: 'po-icon-plus',\n      url: 'app/paises/new'\n    }, {\n      label: 'Editar',\n      icon: 'po-icon-edit',\n      url: 'app/paises/edit/${pais.id}'\n    }, {\n      label: 'Visualizar',\n      icon: 'po-icon-eye',\n      url: 'app/paises/detail/${pais.id}'\n    }, {\n      label: 'Excluir',\n      icon: 'po-icon-delete',\n      url: 'app/paises/detail/${pais.id}',\n      type: 'danger'\n    }, {\n      label: 'Importar',\n      icon: 'po-icon-upload',\n      action: this.advancedActionModal.bind(this)\n    }];\n    this.tableActions = [{\n      label: 'Editar',\n      action: pais => this.router.navigate([`app/paises/edit/${pais.id}`])\n    }, {\n      label: 'Visualizar',\n      action: pais => this.router.navigate([`app/paises/detail/${pais.id}`])\n    }, {\n      label: 'Remover',\n      separator: true,\n      type: 'danger',\n      icon: 'po-icon-delete',\n      action: this.onRemove.bind(this)\n    }, {\n      label: 'Copiar',\n      separator: true,\n      icon: 'po-icon po-icon-copy'\n    }];\n    this.columns = [{\n      label: 'Filial',\n      property: 'filial'\n    }, {\n      label: 'Cod. do País',\n      property: 'codigo',\n      width: '5%'\n    }, {\n      label: 'Descrição',\n      property: 'nome'\n    }, {\n      label: 'Sigla',\n      property: 'sigla',\n      width: '5%'\n    }, {\n      label: 'Cod. Abics',\n      property: 'codAbics',\n      width: '7%'\n    }, {\n      label: 'Cod. Fiesp',\n      property: 'codigoFiesp',\n      width: '7%'\n    }, {\n      label: 'Codigo ERP',\n      property: 'codERP',\n      width: '7%'\n    }, {\n      label: 'Cod. País D.U.E.',\n      property: 'codPaisDUE',\n      width: '10%'\n    }];\n    this.advancedSecundaryAction = {\n      label: 'Modelo CSV',\n      action: () => {\n        this.downloadModelo.bind(this);\n      }\n    };\n    this.advancedPrimaryAction = {\n      label: 'Importar',\n      action: () => {\n        this.dialog.confirm({\n          message: 'Tem certeza que deseja importar os dados do arquivo selecionado?',\n          title: 'Importação de países',\n          confirm: this.loadDados.bind(this)\n        }), this.advancedModal.close();\n      }\n    };\n  }\n\n  ngOnInit() {\n    this.isTableLoading = true;\n    this.paisService.getAll().subscribe(paises => {\n      this.paises = paises;\n      this.isTableLoading = false;\n    });\n  }\n\n  onRemove({\n    id\n  }) {\n    this.dialog.confirm({\n      message: 'Tem certeza que deseja remover este país?',\n      title: 'Exclusão',\n      confirm: this.confirmRemove.bind(this, id)\n    });\n  }\n\n  confirmRemove(id) {\n    this.isTableLoading = true;\n    this.paisService.delete(id).subscribe(() => {\n      this.paises = this.paises.filter(pais => pais.id !== id);\n      this.isTableLoading = false;\n    });\n  }\n\n  advancedActionModal() {\n    this.advancedModal.open();\n  }\n\n  downloadModelo() {}\n\n  loadDados() {}\n\n};\n\n__decorate([ViewChild('advancedModal', {\n  static: true\n})], PaisesListComponent.prototype, \"advancedModal\", void 0);\n\nPaisesListComponent = __decorate([Component({\n  selector: 'app-pais-list',\n  templateUrl: './pais-list.component.html',\n  styleUrls: ['./pais-list.component.css']\n})], PaisesListComponent);\nexport { PaisesListComponent };","map":null,"metadata":{},"sourceType":"module"}